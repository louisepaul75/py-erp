[pytest]
# Test Categories
testpaths = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test Collection
norecursedirs = 
    ../.git 
    ../.tox 
    ../.eggs 
    ../.env 
    ../venv 
    ../build 
    ../dist 
    ../htmlcov 
    __pycache__

# Markers for test categories
markers =
    ui: User interface tests
    backend: Backend service tests
    database: Database tests
    api: API tests
    core: Core business logic tests

# Test Running
addopts = 
    --strict-markers
    --tb=short
    --color=yes
    -v

# Environment
env =
    DJANGO_SETTINGS_MODULE=pyerp.settings.test
    PYTHONPATH=..
    PYTEST_RUNNING=1

# Coverage settings
[coverage:run]
source = ../pyerp
omit = 
    */migrations/*
    */tests/*
    */settings/*
    */wsgi.py
    */asgi.py
    ../manage.py

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise NotImplementedError
    if __name__ == .__main__.:
    pass
    raise ImportError

[coverage:html]
directory = ../htmlcov 