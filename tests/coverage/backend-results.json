{"created": 1742502121.524875, "duration": 0.37396883964538574, "exitcode": 1, "root": "/Users/joan/VSProjects/pyERP/tests", "environment": {}, "summary": {"passed": 78, "failed": 10, "total": 88, "collected": 88}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "backend", "type": "Package"}]}, {"nodeid": "backend/sync/test_exceptions.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_exceptions.py::test_sync_error_base_class", "type": "Function", "lineno": 17}, {"nodeid": "backend/sync/test_exceptions.py::test_extract_error", "type": "Function", "lineno": 27}, {"nodeid": "backend/sync/test_exceptions.py::test_transform_error", "type": "Function", "lineno": 37}, {"nodeid": "backend/sync/test_exceptions.py::test_load_error", "type": "Function", "lineno": 47}, {"nodeid": "backend/sync/test_exceptions.py::test_validation_error", "type": "Function", "lineno": 57}, {"nodeid": "backend/sync/test_exceptions.py::test_configuration_error", "type": "Function", "lineno": 67}, {"nodeid": "backend/sync/test_exceptions.py::test_raising_sync_errors", "type": "Function", "lineno": 77}]}, {"nodeid": "backend/sync/test_extractors.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_valid_config", "type": "Function", "lineno": 33}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_invalid_config", "type": "Function", "lineno": 41}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_connect", "type": "Function", "lineno": 51}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_extract", "type": "Function", "lineno": 61}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close", "type": "Function", "lineno": 83}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_context_manager", "type": "Function", "lineno": 100}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close_exception_handling", "type": "Function", "lineno": 125}]}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_init", "type": "Function", "lineno": 14}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_add_error", "type": "Function", "lineno": 23}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_to_dict", "type": "Function", "lineno": 38}]}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_required_config_fields", "type": "Function", "lineno": 72}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class", "type": "Function", "lineno": 86}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class_error", "type": "Function", "lineno": 104}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record", "type": "Function", "lineno": 121}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record_missing_unique_field", "type": "Function", "lineno": 165}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_create", "type": "Function", "lineno": 185}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_update", "type": "Function", "lineno": 223}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_skip_existing", "type": "Function", "lineno": 261}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_validation_error", "type": "Function", "lineno": 292}]}, {"nodeid": "backend/sync/test_loaders.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestLoadResult", "type": "Class"}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader", "type": "Class"}]}, {"nodeid": "backend/sync/test_models.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_models.py::test_sync_source_str", "type": "Function", "lineno": 10}, {"nodeid": "backend/sync/test_models.py::test_sync_target_str", "type": "Function", "lineno": 15}, {"nodeid": "backend/sync/test_models.py::test_sync_mapping_str", "type": "Function", "lineno": 20}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_started", "type": "Function", "lineno": 26}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_success", "type": "Function", "lineno": 48}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_failure", "type": "Function", "lineno": 74}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed", "type": "Function", "lineno": 100}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed_all_success", "type": "Function", "lineno": 141}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_failed", "type": "Function", "lineno": 182}, {"nodeid": "backend/sync/test_models.py::test_sync_log_detail_str", "type": "Function", "lineno": 218}]}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_successful", "type": "Function", "lineno": 85}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_incremental_filter", "type": "Function", "lineno": 116}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_extractor_error", "type": "Function", "lineno": 142}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_success", "type": "Function", "lineno": 173}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_transformation_error", "type": "Function", "lineno": 210}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_loader_error", "type": "Function", "lineno": 245}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_clean_for_json", "type": "Function", "lineno": 274}]}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_pipeline", "type": "Function", "lineno": 317}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_import_class", "type": "Function", "lineno": 344}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_component", "type": "Function", "lineno": 354}]}, {"nodeid": "backend/sync/test_pipeline.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline", "type": "Class"}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory", "type": "Class"}]}, {"nodeid": "backend/sync/test_tasks.py::TestCase", "outcome": "passed", "result": []}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_success", "type": "Function", "lineno": 94}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_file_error", "type": "Function", "lineno": 111}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings", "type": "Function", "lineno": 127}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings_empty", "type": "Function", "lineno": 143}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_create_sales_record_mappings", "type": "Function", "lineno": 155}]}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_success", "type": "Function", "lineno": 176}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_mapping_not_found", "type": "Function", "lineno": 211}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_pipeline_error", "type": "Function", "lineno": 255}]}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_success", "type": "Function", "lineno": 307}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_with_source_filter", "type": "Function", "lineno": 365}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_no_mappings", "type": "Function", "lineno": 387}]}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_incremental_sync", "type": "Function", "lineno": 416}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_full_sync", "type": "Function", "lineno": 430}]}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_sales_record_sync_log_messages", "type": "Function", "lineno": 448}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_incremental_sales_record_sync", "type": "Function", "lineno": 486}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_full_sales_record_sync", "type": "Function", "lineno": 513}]}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sync_periodic_task", "type": "Function", "lineno": 544}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sync_periodic_task", "type": "Function", "lineno": 555}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sales_record_sync_periodic_task", "type": "Function", "lineno": 566}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sales_record_sync_periodic_task", "type": "Function", "lineno": 578}]}, {"nodeid": "backend/sync/test_tasks.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestCase", "type": "UnitTestCase"}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration", "type": "Class"}]}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_defaults", "type": "Function", "lineno": 12}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_custom_values", "type": "Function", "lineno": 21}]}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_minimal_config", "type": "Function", "lineno": 48}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_full_config", "type": "Function", "lineno": 58}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_valid", "type": "Function", "lineno": 83}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_mappings", "type": "Function", "lineno": 94}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_rules", "type": "Function", "lineno": 106}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_register_custom_transformer", "type": "Function", "lineno": 118}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_field_mappings", "type": "Function", "lineno": 131}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers", "type": "Function", "lineno": 167}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers_error", "type": "Function", "lineno": 194}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_record", "type": "Function", "lineno": 218}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records", "type": "Function", "lineno": 259}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_normalization", "type": "Function", "lineno": 289}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_missing_key_field", "type": "Function", "lineno": 317}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_transform", "type": "Function", "lineno": 337}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate", "type": "Function", "lineno": 373}]}, {"nodeid": "backend/sync/test_transformers.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestValidationError", "type": "Class"}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer", "type": "Class"}]}, {"nodeid": "backend/sync", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_exceptions.py", "type": "Module"}, {"nodeid": "backend/sync/test_extractors.py", "type": "Module"}, {"nodeid": "backend/sync/test_loaders.py", "type": "Module"}, {"nodeid": "backend/sync/test_models.py", "type": "Module"}, {"nodeid": "backend/sync/test_pipeline.py", "type": "Module"}, {"nodeid": "backend/sync/test_tasks.py", "type": "Module"}, {"nodeid": "backend/sync/test_transformers.py", "type": "Module"}]}, {"nodeid": "backend/test_commands.py::TestProductImportCommand", "outcome": "passed", "result": [{"nodeid": "backend/test_commands.py::TestProductImportCommand::test_create_product_validator", "type": "Function", "lineno": 93}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_validate_products", "type": "Function", "lineno": 98}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_handle_product_validation", "type": "Function", "lineno": 118}]}, {"nodeid": "backend/test_commands.py", "outcome": "passed", "result": [{"nodeid": "backend/test_commands.py::TestProductImportCommand", "type": "Class"}]}, {"nodeid": "backend/test_import_service.py::TestValidator", "outcome": "passed", "result": []}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand", "outcome": "passed", "result": [{"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_product_validation", "type": "Function", "lineno": 31}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_with_validation_errors", "type": "Function", "lineno": 46}]}, {"nodeid": "backend/test_import_service.py", "outcome": "passed", "result": [{"nodeid": "backend/test_import_service.py::TestValidator", "type": "Class"}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand", "type": "Class"}]}, {"nodeid": "backend", "outcome": "passed", "result": [{"nodeid": "backend/sync", "type": "Dir"}, {"nodeid": "backend/test_commands.py", "type": "Module"}, {"nodeid": "backend/test_import_service.py", "type": "Module"}]}], "tests": [{"nodeid": "backend/sync/test_exceptions.py::test_sync_error_base_class", "lineno": 17, "outcome": "passed", "keywords": ["test_sync_error_base_class", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.06463762500789016, "outcome": "passed"}, "call": {"duration": 0.00010324997128918767, "outcome": "passed"}, "teardown": {"duration": 0.00010599999222904444, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_extract_error", "lineno": 27, "outcome": "passed", "keywords": ["test_extract_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002480840194039047, "outcome": "passed"}, "call": {"duration": 6.59999786876142e-05, "outcome": "passed"}, "teardown": {"duration": 8.520804112777114e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_transform_error", "lineno": 37, "outcome": "passed", "keywords": ["test_transform_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022429198725149035, "outcome": "passed"}, "call": {"duration": 6.154197035357356e-05, "outcome": "passed"}, "teardown": {"duration": 8.1834034062922e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_load_error", "lineno": 47, "outcome": "passed", "keywords": ["test_load_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022375001572072506, "outcome": "passed"}, "call": {"duration": 6.479199510067701e-05, "outcome": "passed"}, "teardown": {"duration": 7.458397885784507e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_validation_error", "lineno": 57, "outcome": "passed", "keywords": ["test_validation_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002263750066049397, "outcome": "passed"}, "call": {"duration": 5.5541982874274254e-05, "outcome": "passed"}, "teardown": {"duration": 7.537502096965909e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_configuration_error", "lineno": 67, "outcome": "passed", "keywords": ["test_configuration_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00020812498405575752, "outcome": "passed"}, "call": {"duration": 5.5416952818632126e-05, "outcome": "passed"}, "teardown": {"duration": 7.824995554983616e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_raising_sync_errors", "lineno": 77, "outcome": "passed", "keywords": ["test_raising_sync_errors", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002115829847753048, "outcome": "passed"}, "call": {"duration": 0.00010179198579862714, "outcome": "passed"}, "teardown": {"duration": 8.733296999707818e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_valid_config", "lineno": 33, "outcome": "passed", "keywords": ["test_base_extractor_init_valid_config", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00024704099632799625, "outcome": "passed"}, "call": {"duration": 6.125000072643161e-05, "outcome": "passed"}, "teardown": {"duration": 8.587498450651765e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_invalid_config", "lineno": 41, "outcome": "passed", "keywords": ["test_base_extractor_init_invalid_config", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00030874996446073055, "outcome": "passed"}, "call": {"duration": 7.204199209809303e-05, "outcome": "passed"}, "teardown": {"duration": 9.21249738894403e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_connect", "lineno": 51, "outcome": "passed", "keywords": ["test_base_extractor_connect", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002119590062648058, "outcome": "passed"}, "call": {"duration": 0.00013279198901727796, "outcome": "passed"}, "teardown": {"duration": 7.524999091401696e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_extract", "lineno": 61, "outcome": "passed", "keywords": ["test_base_extractor_extract", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021604099310934544, "outcome": "passed"}, "call": {"duration": 0.0002138750278390944, "outcome": "passed"}, "teardown": {"duration": 7.504195673391223e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close", "lineno": 83, "outcome": "passed", "keywords": ["test_base_extractor_close", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021316698985174298, "outcome": "passed"}, "call": {"duration": 0.0003196249599568546, "outcome": "passed"}, "teardown": {"duration": 8.108298061415553e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_context_manager", "lineno": 100, "outcome": "passed", "keywords": ["test_base_extractor_context_manager", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002233340055681765, "outcome": "passed"}, "call": {"duration": 0.0004461249918676913, "outcome": "passed"}, "teardown": {"duration": 8.124997839331627e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close_exception_handling", "lineno": 125, "outcome": "passed", "keywords": ["test_base_extractor_close_exception_handling", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002334589953534305, "outcome": "passed"}, "call": {"duration": 0.0005256669828668237, "outcome": "passed"}, "teardown": {"duration": 0.00038508401485159993, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_init", "lineno": 14, "outcome": "passed", "keywords": ["test_init", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00040916597936302423, "outcome": "passed"}, "call": {"duration": 8.679198799654841e-05, "outcome": "passed"}, "teardown": {"duration": 9.554100688546896e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_add_error", "lineno": 23, "outcome": "passed", "keywords": ["test_add_error", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022266601445153356, "outcome": "passed"}, "call": {"duration": 7.262500002980232e-05, "outcome": "passed"}, "teardown": {"duration": 7.404200732707977e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_to_dict", "lineno": 38, "outcome": "passed", "keywords": ["test_to_dict", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00020762498024851084, "outcome": "passed"}, "call": {"duration": 5.741597851738334e-05, "outcome": "passed"}, "teardown": {"duration": 9.141600457951427e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_required_config_fields", "lineno": 72, "outcome": "passed", "keywords": ["test_get_required_config_fields", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00024100003065541387, "outcome": "passed"}, "call": {"duration": 5.904101999476552e-05, "outcome": "passed"}, "teardown": {"duration": 7.199996616691351e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class", "lineno": 86, "outcome": "passed", "keywords": ["test_get_model_class", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0001978750224225223, "outcome": "passed"}, "call": {"duration": 0.0002295409794896841, "outcome": "passed"}, "teardown": {"duration": 7.462495705112815e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class_error", "lineno": 104, "outcome": "passed", "keywords": ["test_get_model_class_error", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00072900002123788, "outcome": "passed"}, "call": {"duration": 0.00017787498654797673, "outcome": "passed"}, "teardown": {"duration": 8.02499707788229e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record", "lineno": 121, "outcome": "passed", "keywords": ["test_prepare_record", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000216791988350451, "outcome": "passed"}, "call": {"duration": 0.0004588330048136413, "outcome": "passed"}, "teardown": {"duration": 7.608399027958512e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record_missing_unique_field", "lineno": 165, "outcome": "passed", "keywords": ["test_prepare_record_missing_unique_field", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002127499901689589, "outcome": "passed"}, "call": {"duration": 0.00014354201266542077, "outcome": "passed"}, "teardown": {"duration": 7.329200161620975e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_create", "lineno": 185, "outcome": "passed", "keywords": ["test_load_record_create", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002115000388585031, "outcome": "passed"}, "call": {"duration": 0.001070957980118692, "outcome": "passed"}, "teardown": {"duration": 7.920799544081092e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_update", "lineno": 223, "outcome": "passed", "keywords": ["test_load_record_update", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00024041696451604366, "outcome": "passed"}, "call": {"duration": 0.0008710840484127402, "outcome": "passed"}, "teardown": {"duration": 7.66250304877758e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_skip_existing", "lineno": 261, "outcome": "passed", "keywords": ["test_load_record_skip_existing", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021416600793600082, "outcome": "passed"}, "call": {"duration": 0.0006800420233048499, "outcome": "passed"}, "teardown": {"duration": 7.987499702721834e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_validation_error", "lineno": 292, "outcome": "passed", "keywords": ["test_load_record_validation_error", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021187501261010766, "outcome": "passed"}, "call": {"duration": 0.0008794160094112158, "outcome": "passed"}, "teardown": {"duration": 9.487499482929707e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_source_str", "lineno": 10, "outcome": "passed", "keywords": ["test_sync_source_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0006461250013671815, "outcome": "passed"}, "call": {"duration": 7.045804522931576e-05, "outcome": "passed"}, "teardown": {"duration": 8.441699901595712e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_target_str", "lineno": 15, "outcome": "passed", "keywords": ["test_sync_target_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005015420028939843, "outcome": "passed"}, "call": {"duration": 6.683298852294683e-05, "outcome": "passed"}, "teardown": {"duration": 8.012499893084168e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_mapping_str", "lineno": 20, "outcome": "passed", "keywords": ["test_sync_mapping_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0016221250407397747, "outcome": "passed"}, "call": {"duration": 7.308396743610501e-05, "outcome": "passed"}, "teardown": {"duration": 8.91250092536211e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_started", "lineno": 26, "outcome": "passed", "keywords": ["test_sync_state_update_sync_started", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0011963750002905726, "outcome": "passed"}, "call": {"duration": 0.000254834012594074, "outcome": "passed"}, "teardown": {"duration": 9.145902004092932e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_success", "lineno": 48, "outcome": "passed", "keywords": ["test_sync_state_update_sync_completed_success", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0012794999638572335, "outcome": "passed"}, "call": {"duration": 0.000339917023666203, "outcome": "passed"}, "teardown": {"duration": 0.00011908402666449547, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_failure", "lineno": 74, "outcome": "passed", "keywords": ["test_sync_state_update_sync_completed_failure", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0013349580112844706, "outcome": "passed"}, "call": {"duration": 0.0002129159984178841, "outcome": "passed"}, "teardown": {"duration": 0.00010237499373033643, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed", "lineno": 100, "outcome": "passed", "keywords": ["test_sync_log_mark_completed", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0012740420061163604, "outcome": "passed"}, "call": {"duration": 0.00026487495051696897, "outcome": "passed"}, "teardown": {"duration": 9.787501767277718e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed_all_success", "lineno": 141, "outcome": "passed", "keywords": ["test_sync_log_mark_completed_all_success", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.001273999980185181, "outcome": "passed"}, "call": {"duration": 0.00021483300952240825, "outcome": "passed"}, "teardown": {"duration": 9.770796168595552e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_failed", "lineno": 182, "outcome": "passed", "keywords": ["test_sync_log_mark_failed", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0012911250232718885, "outcome": "passed"}, "call": {"duration": 0.0002073750365525484, "outcome": "passed"}, "teardown": {"duration": 9.891600348055363e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_detail_str", "lineno": 218, "outcome": "passed", "keywords": ["test_sync_log_detail_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.001497458026278764, "outcome": "passed"}, "call": {"duration": 7.941597141325474e-05, "outcome": "passed"}, "teardown": {"duration": 0.00010116602061316371, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_successful", "lineno": 85, "outcome": "passed", "keywords": ["test_run_successful", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0014885420096106827, "outcome": "passed"}, "call": {"duration": 0.0021316249622032046, "outcome": "passed", "stderr": "INFO 2025-03-20 21:22:01,313 pipeline 77794 8674591296 Processing batch 1 (2 records)\nINFO 2025-03-20 21:22:01,313 pipeline 77794 8674591296 Processing batch 2 (1 records)\n"}, "teardown": {"duration": 9.462499292567372e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_incremental_filter", "lineno": 116, "outcome": "passed", "keywords": ["test_run_with_incremental_filter", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0014212499954737723, "outcome": "passed"}, "call": {"duration": 0.0012286669807508588, "outcome": "passed", "stderr": "INFO 2025-03-20 21:22:01,317 pipeline 77794 8674591296 Processing batch 1 (3 records)\n"}, "teardown": {"duration": 9.225000394508243e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_extractor_error", "lineno": 142, "outcome": "passed", "keywords": ["test_run_with_extractor_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003796875011175871, "outcome": "passed"}, "call": {"duration": 0.004988458997104317, "outcome": "passed", "stderr": "ERROR 2025-03-20 21:22:01,323 pipeline 77794 8674591296 Error during sync pipeline execution\nTraceback (most recent call last):\n  File \"/Users/joan/VSProjects/pyERP/pyerp/sync/pipeline.py\", line 133, in run\n    source_data = self.extractor.extract(\n                  ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\nValueError: Extraction error\n"}, "teardown": {"duration": 0.00011837499914690852, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_success", "lineno": 173, "outcome": "passed", "keywords": ["test_process_batch_success", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0015247910050675273, "outcome": "passed"}, "call": {"duration": 0.0006728749722242355, "outcome": "passed"}, "teardown": {"duration": 8.866604184731841e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_transformation_error", "lineno": 210, "outcome": "passed", "keywords": ["test_process_batch_transformation_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0021290420554578304, "outcome": "passed"}, "call": {"duration": 0.035254415997769684, "outcome": "passed", "stderr": "WARNING 2025-03-20 21:22:01,366 pipeline 77794 8674591296 Transformer returned no data for batch\n"}, "teardown": {"duration": 0.00012516701826825738, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_loader_error", "lineno": 245, "outcome": "passed", "keywords": ["test_process_batch_loader_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.001609708007890731, "outcome": "passed"}, "call": {"duration": 0.0007871669949963689, "outcome": "passed"}, "teardown": {"duration": 0.00010025000665336847, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_clean_for_json", "lineno": 274, "outcome": "passed", "keywords": ["test_clean_for_json", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0014066249714232981, "outcome": "passed"}, "call": {"duration": 8.01250571385026e-05, "outcome": "passed"}, "teardown": {"duration": 0.00010470900451764464, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_pipeline", "lineno": 317, "outcome": "passed", "keywords": ["test_create_pipeline", "__wrapped__", "patchings", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002446250291541219, "outcome": "passed"}, "call": {"duration": 0.0009215829777531326, "outcome": "passed", "stderr": "INFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Creating pipeline components...\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Source config: {'type': 'source_type'}\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Target config: {'type': 'target_type'}\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Mapping config: {'extractor': {'class': 'extractor_class'}, 'transformer': {'class': 'transformer_class'}, 'loader': {'class': 'loader_class'}}\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Created extractor: MagicMock\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Created transformer: MagicMock\nINFO 2025-03-20 21:22:01,373 pipeline 77794 8674591296 Created loader: MagicMock\n"}, "teardown": {"duration": 7.991702295839787e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_import_class", "lineno": 344, "outcome": "passed", "keywords": ["test_import_class", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021966698113828897, "outcome": "passed"}, "call": {"duration": 0.00034254195634275675, "outcome": "passed"}, "teardown": {"duration": 7.779098814353347e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_component", "lineno": 354, "outcome": "passed", "keywords": ["test_create_component", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021716603077948093, "outcome": "passed"}, "call": {"duration": 7.216696394607425e-05, "outcome": "passed"}, "teardown": {"duration": 8.43749730847776e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_success", "lineno": 94, "outcome": "passed", "keywords": ["test_load_sales_record_yaml_success", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00023425003746524453, "outcome": "passed"}, "call": {"duration": 0.0008075829828158021, "outcome": "passed"}, "teardown": {"duration": 8.270901162177324e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_file_error", "lineno": 111, "outcome": "passed", "keywords": ["test_load_sales_record_yaml_file_error", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021999998716637492, "outcome": "passed"}, "call": {"duration": 0.000343875028192997, "outcome": "passed"}, "teardown": {"duration": 7.604097481817007e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings", "lineno": 127, "outcome": "passed", "keywords": ["test_get_sales_record_mappings", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021895801182836294, "outcome": "passed"}, "call": {"duration": 0.00012691598385572433, "outcome": "passed"}, "teardown": {"duration": 8.079200051724911e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings_empty", "lineno": 143, "outcome": "passed", "keywords": ["test_get_sales_record_mappings_empty", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021020800340920687, "outcome": "passed"}, "call": {"duration": 0.00011312501737847924, "outcome": "passed"}, "teardown": {"duration": 7.204205030575395e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_create_sales_record_mappings", "lineno": 155, "outcome": "passed", "keywords": ["test_create_sales_record_mappings", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002662919578142464, "outcome": "passed"}, "call": {"duration": 0.00012054195394739509, "outcome": "passed"}, "teardown": {"duration": 8.620903827250004e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_success", "lineno": 176, "outcome": "passed", "keywords": ["test_run_entity_sync_success", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.001256291987374425, "outcome": "passed"}, "call": {"duration": 0.0004372919793240726, "outcome": "passed"}, "teardown": {"duration": 9.420898277312517e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_mapping_not_found", "lineno": 211, "outcome": "passed", "keywords": ["test_run_entity_sync_mapping_not_found", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000222250004298985, "outcome": "passed"}, "call": {"duration": 0.00029150000773370266, "outcome": "passed"}, "teardown": {"duration": 7.524999091401696e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_pipeline_error", "lineno": 255, "outcome": "passed", "keywords": ["test_run_entity_sync_pipeline_error", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0008276250446215272, "outcome": "passed"}, "call": {"duration": 0.0009709580335766077, "outcome": "passed"}, "teardown": {"duration": 8.687499212101102e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_success", "lineno": 307, "outcome": "passed", "keywords": ["test_run_all_mappings_success", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002342910156585276, "outcome": "passed"}, "call": {"duration": 0.0010672080097720027, "outcome": "passed"}, "teardown": {"duration": 7.937499321997166e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_with_source_filter", "lineno": 365, "outcome": "passed", "keywords": ["test_run_all_mappings_with_source_filter", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022570800501853228, "outcome": "passed"}, "call": {"duration": 0.0004831659607589245, "outcome": "passed"}, "teardown": {"duration": 7.61660048738122e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_no_mappings", "lineno": 387, "outcome": "passed", "keywords": ["test_run_all_mappings_no_mappings", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021054100943729281, "outcome": "passed"}, "call": {"duration": 0.00036091700894758105, "outcome": "passed"}, "teardown": {"duration": 8.462503319606185e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_incremental_sync", "lineno": 416, "outcome": "passed", "keywords": ["test_run_incremental_sync", "__wrapped__", "patchings", "TestScheduledSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022491696290671825, "outcome": "passed"}, "call": {"duration": 0.00029320799512788653, "outcome": "passed"}, "teardown": {"duration": 7.466704118996859e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_full_sync", "lineno": 430, "outcome": "passed", "keywords": ["test_run_full_sync", "__wrapped__", "patchings", "TestScheduledSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002062499988824129, "outcome": "passed"}, "call": {"duration": 0.0003387919859960675, "outcome": "passed"}, "teardown": {"duration": 8.241599425673485e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_sales_record_sync_log_messages", "lineno": 448, "outcome": "passed", "keywords": ["test_run_sales_record_sync_log_messages", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022074999287724495, "outcome": "passed"}, "call": {"duration": 0.0007549169822596014, "outcome": "passed"}, "teardown": {"duration": 7.691601058468223e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_incremental_sales_record_sync", "lineno": 486, "outcome": "passed", "keywords": ["test_run_incremental_sales_record_sync", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002215839922428131, "outcome": "passed"}, "call": {"duration": 0.0003148340038023889, "outcome": "passed", "stderr": "INFO 2025-03-20 21:22:01,392 tasks 77794 8674591296 Starting scheduled incremental sales record sync\n"}, "teardown": {"duration": 7.562496466562152e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_full_sales_record_sync", "lineno": 513, "outcome": "passed", "keywords": ["test_run_full_sales_record_sync", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021016597747802734, "outcome": "passed"}, "call": {"duration": 0.0003304159617982805, "outcome": "passed", "stderr": "INFO 2025-03-20 21:22:01,393 tasks 77794 8674591296 Starting scheduled full sales record sync\n"}, "teardown": {"duration": 8.875003550201654e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sync_periodic_task", "lineno": 544, "outcome": "passed", "keywords": ["test_incremental_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022600003285333514, "outcome": "passed"}, "call": {"duration": 6.137497257441282e-05, "outcome": "passed"}, "teardown": {"duration": 7.35839712433517e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sync_periodic_task", "lineno": 555, "outcome": "passed", "keywords": ["test_full_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00020291598048061132, "outcome": "passed"}, "call": {"duration": 6.258400389924645e-05, "outcome": "passed"}, "teardown": {"duration": 7.554201874881983e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sales_record_sync_periodic_task", "lineno": 566, "outcome": "passed", "keywords": ["test_incremental_sales_record_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002013749908655882, "outcome": "passed"}, "call": {"duration": 6.204203236848116e-05, "outcome": "passed"}, "teardown": {"duration": 7.212499622255564e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sales_record_sync_periodic_task", "lineno": 578, "outcome": "passed", "keywords": ["test_full_sales_record_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0001972499885596335, "outcome": "passed"}, "call": {"duration": 6.104196654632688e-05, "outcome": "passed"}, "teardown": {"duration": 8.699996396899223e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_defaults", "lineno": 12, "outcome": "passed", "keywords": ["test_init_with_defaults", "TestValidationError", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021774997003376484, "outcome": "passed"}, "call": {"duration": 5.945900920778513e-05, "outcome": "passed"}, "teardown": {"duration": 7.629196625202894e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_custom_values", "lineno": 21, "outcome": "passed", "keywords": ["test_init_with_custom_values", "TestValidationError", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002031669719144702, "outcome": "passed"}, "call": {"duration": 5.7833967730402946e-05, "outcome": "passed"}, "teardown": {"duration": 7.779098814353347e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_minimal_config", "lineno": 48, "outcome": "passed", "keywords": ["test_init_with_minimal_config", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021649996051564813, "outcome": "passed"}, "call": {"duration": 6.058404687792063e-05, "outcome": "passed"}, "teardown": {"duration": 7.283297600224614e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_full_config", "lineno": 58, "outcome": "passed", "keywords": ["test_init_with_full_config", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002009579911828041, "outcome": "passed"}, "call": {"duration": 5.704199429601431e-05, "outcome": "passed"}, "teardown": {"duration": 7.162499241530895e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_valid", "lineno": 83, "outcome": "passed", "keywords": ["test_validate_config_valid", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000196165987290442, "outcome": "passed"}, "call": {"duration": 5.441700341179967e-05, "outcome": "passed"}, "teardown": {"duration": 6.925000343471766e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_mappings", "lineno": 94, "outcome": "failed", "keywords": ["test_validate_config_invalid_mappings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00019450002582743764, "outcome": "passed"}, "call": {"duration": 7.395900320261717e-05, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 59, "message": "pyerp.sync.exceptions.TransformError: field_mappings must be a dictionary"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 103, "message": "in test_validate_config_invalid_mappings"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 48, "message": "in __init__"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 59, "message": "in _validate_config"}], "longrepr": "tests/backend/sync/test_transformers.py:103: in test_validate_config_invalid_mappings\n    SimpleTransformer(config)\npyerp/sync/transformers/base.py:48: in __init__\n    self._validate_config()\npyerp/sync/transformers/base.py:59: in _validate_config\n    raise TransformError(\"field_mappings must be a dictionary\")\nE   pyerp.sync.exceptions.TransformError: field_mappings must be a dictionary"}, "teardown": {"duration": 0.00014483300037682056, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_rules", "lineno": 106, "outcome": "failed", "keywords": ["test_validate_config_invalid_rules", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000271082972176373, "outcome": "passed"}, "call": {"duration": 8.941703708842397e-05, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 62, "message": "pyerp.sync.exceptions.TransformError: validation_rules must be a list"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 115, "message": "in test_validate_config_invalid_rules"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 48, "message": "in __init__"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 62, "message": "in _validate_config"}], "longrepr": "tests/backend/sync/test_transformers.py:115: in test_validate_config_invalid_rules\n    SimpleTransformer(config)\npyerp/sync/transformers/base.py:48: in __init__\n    self._validate_config()\npyerp/sync/transformers/base.py:62: in _validate_config\n    raise TransformError(\"validation_rules must be a list\")\nE   pyerp.sync.exceptions.TransformError: validation_rules must be a list"}, "teardown": {"duration": 0.00012687500566244125, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_register_custom_transformer", "lineno": 118, "outcome": "passed", "keywords": ["test_register_custom_transformer", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00025483296485617757, "outcome": "passed"}, "call": {"duration": 6.866600597277284e-05, "outcome": "passed"}, "teardown": {"duration": 7.912499131634831e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_field_mappings", "lineno": 131, "outcome": "failed", "keywords": ["test_apply_field_mappings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00021162501070648432, "outcome": "passed"}, "call": {"duration": 0.019516416999977082, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 150, "message": "AssertionError: assert {'other_field': 'Other value', 'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'} == {'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'}\n  \n  Common items:\n  \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mtarget_code\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTP001\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_name\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTest Product\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_price\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[94m10.99\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\n  Left contains 1 more item:\n  \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mother_field\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mOther value\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\n  \n  Full diff:\n  \u001b[0m\u001b[90m \u001b[39;49;00m {\u001b[90m\u001b[39;49;00m\n  \u001b[92m+     'other_field': 'Other value',\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_code': 'TP001',\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_name': 'Test Product',\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_price': 10.99,\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m }\u001b[90m\u001b[39;49;00m"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 150, "message": "in test_apply_field_mappings"}], "longrepr": "tests/backend/sync/test_transformers.py:150: in test_apply_field_mappings\n    assert result == {\nE   AssertionError: assert {'other_field': 'Other value', 'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'} == {'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'}\nE     \nE     Common items:\nE     \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mtarget_code\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTP001\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_name\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTest Product\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_price\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[94m10.99\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\nE     Left contains 1 more item:\nE     \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mother_field\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mOther value\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\nE     \nE     Full diff:\nE     \u001b[0m\u001b[90m \u001b[39;49;00m {\u001b[90m\u001b[39;49;00m\nE     \u001b[92m+     'other_field': 'Other value',\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_code': 'TP001',\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_name': 'Test Product',\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_price': 10.99,\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m }\u001b[90m\u001b[39;49;00m"}, "teardown": {"duration": 0.00013141700765118003, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers", "lineno": 167, "outcome": "failed", "keywords": ["test_apply_custom_transformers", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00026241695741191506, "outcome": "passed"}, "call": {"duration": 0.0001954169711098075, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 189, "message": "in test_apply_custom_transformers"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "stderr": "Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'\n", "log": [{"name": "pyerp.sync.transformers.base", "msg": "Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "filename": "base.py", "module": "base", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 119, "funcName": "apply_custom_transformers", "created": 1742502121.485034, "msecs": 485.0, "relativeCreated": 2024.1520404815674, "thread": 8674591296, "threadName": "MainThread", "processName": "MainProcess", "process": 77794, "taskName": null}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:189: in test_apply_custom_transformers\n    result = transformer.apply_custom_transformers(record, source_record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "teardown": {"duration": 9.616697207093239e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers_error", "lineno": 194, "outcome": "failed", "keywords": ["test_apply_custom_transformers_error", "__wrapped__", "patchings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00023391598369926214, "outcome": "passed"}, "call": {"duration": 0.00029954203637316823, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 210, "message": "in test_apply_custom_transformers_error"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:210: in test_apply_custom_transformers_error\n    result = transformer.apply_custom_transformers(record, source_record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'"}, "teardown": {"duration": 0.0001163750421255827, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_record", "lineno": 218, "outcome": "failed", "keywords": ["test_validate_record", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00024620897602289915, "outcome": "passed"}, "call": {"duration": 0.0001496669719927013, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 244, "message": "assert 0 == 1\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 244, "message": "in test_validate_record"}], "longrepr": "tests/backend/sync/test_transformers.py:244: in test_validate_record\n    assert len(name_errors) == 1\nE   assert 0 == 1\nE    +  where 0 = len([])"}, "teardown": {"duration": 9.57910087890923e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records", "lineno": 259, "outcome": "failed", "keywords": ["test_prefilter_records", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00023441598750650883, "outcome": "passed"}, "call": {"duration": 0.00032645900500938296, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 279, "message": "assert 0 == 3\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 279, "message": "in test_prefilter_records"}], "longrepr": "tests/backend/sync/test_transformers.py:279: in test_prefilter_records\n    assert len(new_records) == 3\nE   assert 0 == 3\nE    +  where 0 = len([])"}, "teardown": {"duration": 0.00011691701365634799, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_normalization", "lineno": 289, "outcome": "failed", "keywords": ["test_prefilter_records_normalization", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002655000425875187, "outcome": "passed"}, "call": {"duration": 0.00012083299225196242, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 308, "message": "assert 0 == 1\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 308, "message": "in test_prefilter_records_normalization"}], "longrepr": "tests/backend/sync/test_transformers.py:308: in test_prefilter_records_normalization\n    assert len(new_records) == 1\nE   assert 0 == 1\nE    +  where 0 = len([])"}, "teardown": {"duration": 9.279098594561219e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_missing_key_field", "lineno": 317, "outcome": "passed", "keywords": ["test_prefilter_records_missing_key_field", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00023058400256559253, "outcome": "passed"}, "call": {"duration": 6.470800144597888e-05, "outcome": "passed"}, "teardown": {"duration": 7.833295967429876e-05, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_transform", "lineno": 337, "outcome": "failed", "keywords": ["test_transform", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0002126669860444963, "outcome": "passed"}, "call": {"duration": 0.00017266604118049145, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 358, "message": "in test_transform"}, {"path": "tests/backend/sync/test_transformers.py", "lineno": 43, "message": "in transform"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 231, "message": "in transform"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "stderr": "Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'\n", "log": [{"name": "pyerp.sync.transformers.base", "msg": "Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "filename": "base.py", "module": "base", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 119, "funcName": "apply_custom_transformers", "created": 1742502121.508197, "msecs": 508.0, "relativeCreated": 2047.3151206970215, "thread": 8674591296, "threadName": "MainThread", "processName": "MainProcess", "process": 77794, "taskName": null}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:358: in test_transform\n    result = transformer.transform(source_data)\ntests/backend/sync/test_transformers.py:43: in transform\n    return super().transform(source_data)\npyerp/sync/transformers/base.py:231: in transform\n    transformed = self.apply_custom_transformers(transformed, record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "teardown": {"duration": 0.00010108400601893663, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate", "lineno": 373, "outcome": "failed", "keywords": ["test_validate", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00022183300461620092, "outcome": "passed"}, "call": {"duration": 0.00012195797171443701, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 399, "message": "AssertionError: assert 3 == 2\n +  where 3 = len([{'name': 'Valid', 'price': 10.99}, {'name': 'Too Long Name for Validation', 'price': 20.99}, {'name': 'Valid', 'price': -5}])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 399, "message": "in test_validate"}], "longrepr": "tests/backend/sync/test_transformers.py:399: in test_validate\n    assert len(validation_results) == 2  # 2 records with errors\nE   AssertionError: assert 3 == 2\nE    +  where 3 = len([{'name': 'Valid', 'price': 10.99}, {'name': 'Too Long Name for Validation', 'price': 20.99}, {'name': 'Valid', 'price': -5}])"}, "teardown": {"duration": 0.00012512499233707786, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_create_product_validator", "lineno": 93, "outcome": "passed", "keywords": ["test_create_product_validator", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.0002630840172059834, "outcome": "passed"}, "call": {"duration": 0.0001395420404151082, "outcome": "passed"}, "teardown": {"duration": 9.425001917406917e-05, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_validate_products", "lineno": 98, "outcome": "passed", "keywords": ["test_validate_products", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.00024029199266806245, "outcome": "passed"}, "call": {"duration": 0.00023312499979510903, "outcome": "passed"}, "teardown": {"duration": 8.512497879564762e-05, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_handle_product_validation", "lineno": 118, "outcome": "passed", "keywords": ["test_handle_product_validation", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.00022950000129640102, "outcome": "passed"}, "call": {"duration": 0.0004374579875729978, "outcome": "passed"}, "teardown": {"duration": 0.00015083304606378078, "outcome": "passed"}}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_product_validation", "lineno": 31, "outcome": "passed", "keywords": ["test_handle_product_validation", "TestProductImportCommand", "test_import_service.py", "backend", "tests", ""], "setup": {"duration": 0.00032225000904873013, "outcome": "passed"}, "call": {"duration": 0.0003253340255469084, "outcome": "passed"}, "teardown": {"duration": 0.00010466703679412603, "outcome": "passed"}}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_with_validation_errors", "lineno": 46, "outcome": "passed", "keywords": ["test_handle_with_validation_errors", "TestProductImportCommand", "test_import_service.py", "backend", "tests", ""], "setup": {"duration": 0.0002777079935185611, "outcome": "passed"}, "call": {"duration": 0.0003012079978361726, "outcome": "passed"}, "teardown": {"duration": 0.0018923329771496356, "outcome": "passed"}}], "warnings": [{"message": "pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pkg_resources/__init__.py", "lineno": 3147}, {"message": "'cgi' is deprecated and slated for removal in Python 3.13", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "pythonjsonlogger.jsonlogger has been moved to pythonjsonlogger.json", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pythonjsonlogger/jsonlogger.py", "lineno": 11}, {"message": "Unknown config option: env\n", "category": "PytestConfigWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/_pytest/config/__init__.py", "lineno": 1396}, {"message": "cannot collect test class 'TestValidator' because it has a __init__ constructor (from: backend/test_import_service.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/Users/joan/VSProjects/pyERP/tests/backend/test_import_service.py", "lineno": 15}]}