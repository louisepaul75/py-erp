{"created": 1742310221.011831, "duration": 1.0215649604797363, "exitcode": 1, "root": "/Users/joan/VSProjects/pyERP/tests", "environment": {}, "summary": {"passed": 78, "failed": 10, "total": 88, "collected": 88}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "backend", "type": "Package"}]}, {"nodeid": "backend/sync/test_exceptions.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_exceptions.py::test_sync_error_base_class", "type": "Function", "lineno": 17}, {"nodeid": "backend/sync/test_exceptions.py::test_extract_error", "type": "Function", "lineno": 27}, {"nodeid": "backend/sync/test_exceptions.py::test_transform_error", "type": "Function", "lineno": 37}, {"nodeid": "backend/sync/test_exceptions.py::test_load_error", "type": "Function", "lineno": 47}, {"nodeid": "backend/sync/test_exceptions.py::test_validation_error", "type": "Function", "lineno": 57}, {"nodeid": "backend/sync/test_exceptions.py::test_configuration_error", "type": "Function", "lineno": 67}, {"nodeid": "backend/sync/test_exceptions.py::test_raising_sync_errors", "type": "Function", "lineno": 77}]}, {"nodeid": "backend/sync/test_extractors.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_valid_config", "type": "Function", "lineno": 33}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_invalid_config", "type": "Function", "lineno": 41}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_connect", "type": "Function", "lineno": 51}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_extract", "type": "Function", "lineno": 61}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close", "type": "Function", "lineno": 83}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_context_manager", "type": "Function", "lineno": 100}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close_exception_handling", "type": "Function", "lineno": 125}]}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_init", "type": "Function", "lineno": 14}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_add_error", "type": "Function", "lineno": 23}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_to_dict", "type": "Function", "lineno": 38}]}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_required_config_fields", "type": "Function", "lineno": 72}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class", "type": "Function", "lineno": 86}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class_error", "type": "Function", "lineno": 104}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record", "type": "Function", "lineno": 121}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record_missing_unique_field", "type": "Function", "lineno": 165}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_create", "type": "Function", "lineno": 185}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_update", "type": "Function", "lineno": 223}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_skip_existing", "type": "Function", "lineno": 261}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_validation_error", "type": "Function", "lineno": 292}]}, {"nodeid": "backend/sync/test_loaders.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_loaders.py::TestLoadResult", "type": "Class"}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader", "type": "Class"}]}, {"nodeid": "backend/sync/test_models.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_models.py::test_sync_source_str", "type": "Function", "lineno": 10}, {"nodeid": "backend/sync/test_models.py::test_sync_target_str", "type": "Function", "lineno": 15}, {"nodeid": "backend/sync/test_models.py::test_sync_mapping_str", "type": "Function", "lineno": 20}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_started", "type": "Function", "lineno": 26}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_success", "type": "Function", "lineno": 48}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_failure", "type": "Function", "lineno": 74}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed", "type": "Function", "lineno": 100}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed_all_success", "type": "Function", "lineno": 141}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_failed", "type": "Function", "lineno": 182}, {"nodeid": "backend/sync/test_models.py::test_sync_log_detail_str", "type": "Function", "lineno": 218}]}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_successful", "type": "Function", "lineno": 85}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_incremental_filter", "type": "Function", "lineno": 116}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_extractor_error", "type": "Function", "lineno": 142}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_success", "type": "Function", "lineno": 173}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_transformation_error", "type": "Function", "lineno": 210}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_loader_error", "type": "Function", "lineno": 245}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_clean_for_json", "type": "Function", "lineno": 274}]}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_pipeline", "type": "Function", "lineno": 317}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_import_class", "type": "Function", "lineno": 344}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_component", "type": "Function", "lineno": 354}]}, {"nodeid": "backend/sync/test_pipeline.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline", "type": "Class"}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory", "type": "Class"}]}, {"nodeid": "backend/sync/test_tasks.py::TestCase", "outcome": "passed", "result": []}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_success", "type": "Function", "lineno": 94}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_file_error", "type": "Function", "lineno": 111}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings", "type": "Function", "lineno": 127}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings_empty", "type": "Function", "lineno": 143}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_create_sales_record_mappings", "type": "Function", "lineno": 155}]}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_success", "type": "Function", "lineno": 176}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_mapping_not_found", "type": "Function", "lineno": 211}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_pipeline_error", "type": "Function", "lineno": 255}]}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_success", "type": "Function", "lineno": 307}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_with_source_filter", "type": "Function", "lineno": 365}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_no_mappings", "type": "Function", "lineno": 387}]}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_incremental_sync", "type": "Function", "lineno": 416}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_full_sync", "type": "Function", "lineno": 430}]}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_sales_record_sync_log_messages", "type": "Function", "lineno": 448}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_incremental_sales_record_sync", "type": "Function", "lineno": 486}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_full_sales_record_sync", "type": "Function", "lineno": 513}]}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sync_periodic_task", "type": "Function", "lineno": 544}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sync_periodic_task", "type": "Function", "lineno": 555}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sales_record_sync_periodic_task", "type": "Function", "lineno": 566}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sales_record_sync_periodic_task", "type": "Function", "lineno": 578}]}, {"nodeid": "backend/sync/test_tasks.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_tasks.py::TestCase", "type": "UnitTestCase"}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks", "type": "Class"}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration", "type": "Class"}]}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_defaults", "type": "Function", "lineno": 12}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_custom_values", "type": "Function", "lineno": 21}]}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_minimal_config", "type": "Function", "lineno": 48}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_full_config", "type": "Function", "lineno": 58}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_valid", "type": "Function", "lineno": 83}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_mappings", "type": "Function", "lineno": 94}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_rules", "type": "Function", "lineno": 106}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_register_custom_transformer", "type": "Function", "lineno": 118}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_field_mappings", "type": "Function", "lineno": 131}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers", "type": "Function", "lineno": 167}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers_error", "type": "Function", "lineno": 194}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_record", "type": "Function", "lineno": 218}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records", "type": "Function", "lineno": 259}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_normalization", "type": "Function", "lineno": 289}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_missing_key_field", "type": "Function", "lineno": 317}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_transform", "type": "Function", "lineno": 337}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate", "type": "Function", "lineno": 373}]}, {"nodeid": "backend/sync/test_transformers.py", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_transformers.py::TestValidationError", "type": "Class"}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer", "type": "Class"}]}, {"nodeid": "backend/sync", "outcome": "passed", "result": [{"nodeid": "backend/sync/test_exceptions.py", "type": "Module"}, {"nodeid": "backend/sync/test_extractors.py", "type": "Module"}, {"nodeid": "backend/sync/test_loaders.py", "type": "Module"}, {"nodeid": "backend/sync/test_models.py", "type": "Module"}, {"nodeid": "backend/sync/test_pipeline.py", "type": "Module"}, {"nodeid": "backend/sync/test_tasks.py", "type": "Module"}, {"nodeid": "backend/sync/test_transformers.py", "type": "Module"}]}, {"nodeid": "backend/test_commands.py::TestProductImportCommand", "outcome": "passed", "result": [{"nodeid": "backend/test_commands.py::TestProductImportCommand::test_create_product_validator", "type": "Function", "lineno": 93}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_validate_products", "type": "Function", "lineno": 98}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_handle_product_validation", "type": "Function", "lineno": 118}]}, {"nodeid": "backend/test_commands.py", "outcome": "passed", "result": [{"nodeid": "backend/test_commands.py::TestProductImportCommand", "type": "Class"}]}, {"nodeid": "backend/test_import_service.py::TestValidator", "outcome": "passed", "result": []}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand", "outcome": "passed", "result": [{"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_product_validation", "type": "Function", "lineno": 31}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_with_validation_errors", "type": "Function", "lineno": 46}]}, {"nodeid": "backend/test_import_service.py", "outcome": "passed", "result": [{"nodeid": "backend/test_import_service.py::TestValidator", "type": "Class"}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand", "type": "Class"}]}, {"nodeid": "backend", "outcome": "passed", "result": [{"nodeid": "backend/sync", "type": "Dir"}, {"nodeid": "backend/test_commands.py", "type": "Module"}, {"nodeid": "backend/test_import_service.py", "type": "Module"}]}], "tests": [{"nodeid": "backend/sync/test_exceptions.py::test_sync_error_base_class", "lineno": 17, "outcome": "passed", "keywords": ["test_sync_error_base_class", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.07950649999838788, "outcome": "passed"}, "call": {"duration": 0.00025858300796244293, "outcome": "passed"}, "teardown": {"duration": 0.0003079169982811436, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_extract_error", "lineno": 27, "outcome": "passed", "keywords": ["test_extract_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000566792004974559, "outcome": "passed"}, "call": {"duration": 0.0001269999920623377, "outcome": "passed"}, "teardown": {"duration": 0.00017870900046546012, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_transform_error", "lineno": 37, "outcome": "passed", "keywords": ["test_transform_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00048574998800177127, "outcome": "passed"}, "call": {"duration": 0.00011462499969638884, "outcome": "passed"}, "teardown": {"duration": 0.0001458340120734647, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_load_error", "lineno": 47, "outcome": "passed", "keywords": ["test_load_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00046641701192129403, "outcome": "passed"}, "call": {"duration": 0.00011204199108760804, "outcome": "passed"}, "teardown": {"duration": 0.00014174998796079308, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_validation_error", "lineno": 57, "outcome": "passed", "keywords": ["test_validation_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00046545900113414973, "outcome": "passed"}, "call": {"duration": 0.00010891699639614671, "outcome": "passed"}, "teardown": {"duration": 0.00014958300744183362, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_configuration_error", "lineno": 67, "outcome": "passed", "keywords": ["test_configuration_error", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004675840027630329, "outcome": "passed"}, "call": {"duration": 0.00011054200876969844, "outcome": "passed"}, "teardown": {"duration": 0.0001943749957717955, "outcome": "passed"}}, {"nodeid": "backend/sync/test_exceptions.py::test_raising_sync_errors", "lineno": 77, "outcome": "passed", "keywords": ["test_raising_sync_errors", "test_exceptions.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004800000024260953, "outcome": "passed"}, "call": {"duration": 0.0002640839957166463, "outcome": "passed"}, "teardown": {"duration": 0.00019479100592434406, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_valid_config", "lineno": 33, "outcome": "passed", "keywords": ["test_base_extractor_init_valid_config", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0006780409894417971, "outcome": "passed"}, "call": {"duration": 0.00013391600805334747, "outcome": "passed"}, "teardown": {"duration": 0.00015800000983290374, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_init_invalid_config", "lineno": 41, "outcome": "passed", "keywords": ["test_base_extractor_init_invalid_config", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00046462500176858157, "outcome": "passed"}, "call": {"duration": 0.0001281669974559918, "outcome": "passed"}, "teardown": {"duration": 0.00014095900405663997, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_connect", "lineno": 51, "outcome": "passed", "keywords": ["test_base_extractor_connect", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004853330028709024, "outcome": "passed"}, "call": {"duration": 0.00021016699611209333, "outcome": "passed"}, "teardown": {"duration": 0.0001500000071246177, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_extract", "lineno": 61, "outcome": "passed", "keywords": ["test_base_extractor_extract", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00045841600513085723, "outcome": "passed"}, "call": {"duration": 0.00035766599467024207, "outcome": "passed"}, "teardown": {"duration": 0.00014525000005960464, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close", "lineno": 83, "outcome": "passed", "keywords": ["test_base_extractor_close", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00045858300291001797, "outcome": "passed"}, "call": {"duration": 0.0005043330020271242, "outcome": "passed"}, "teardown": {"duration": 0.00015012500807642937, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_context_manager", "lineno": 100, "outcome": "passed", "keywords": ["test_base_extractor_context_manager", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005292499990900978, "outcome": "passed"}, "call": {"duration": 0.0015130420069908723, "outcome": "passed"}, "teardown": {"duration": 0.00016679200052749366, "outcome": "passed"}}, {"nodeid": "backend/sync/test_extractors.py::test_base_extractor_close_exception_handling", "lineno": 125, "outcome": "passed", "keywords": ["test_base_extractor_close_exception_handling", "test_extractors.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005278339958749712, "outcome": "passed"}, "call": {"duration": 0.002707166990148835, "outcome": "passed"}, "teardown": {"duration": 0.00016583300021011382, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_init", "lineno": 14, "outcome": "passed", "keywords": ["test_init", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005020840035285801, "outcome": "passed"}, "call": {"duration": 0.00012074998812749982, "outcome": "passed"}, "teardown": {"duration": 0.00012870901264250278, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_add_error", "lineno": 23, "outcome": "passed", "keywords": ["test_add_error", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004231670027365908, "outcome": "passed"}, "call": {"duration": 0.0001403339992975816, "outcome": "passed"}, "teardown": {"duration": 0.00012545900244731456, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestLoadResult::test_to_dict", "lineno": 38, "outcome": "passed", "keywords": ["test_to_dict", "TestLoadResult", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00046129200200084597, "outcome": "passed"}, "call": {"duration": 0.00011675000132527202, "outcome": "passed"}, "teardown": {"duration": 0.00015645800158381462, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_required_config_fields", "lineno": 72, "outcome": "passed", "keywords": ["test_get_required_config_fields", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004924169916193932, "outcome": "passed"}, "call": {"duration": 0.00011833400640171021, "outcome": "passed"}, "teardown": {"duration": 0.00014541699783876538, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class", "lineno": 86, "outcome": "passed", "keywords": ["test_get_model_class", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004556669882731512, "outcome": "passed"}, "call": {"duration": 0.00044841600174549967, "outcome": "passed"}, "teardown": {"duration": 0.00014704099157825112, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_get_model_class_error", "lineno": 104, "outcome": "passed", "keywords": ["test_get_model_class_error", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00044541699753608555, "outcome": "passed"}, "call": {"duration": 0.00028983299853280187, "outcome": "passed"}, "teardown": {"duration": 0.00022766699839849025, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record", "lineno": 121, "outcome": "passed", "keywords": ["test_prepare_record", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004844999930355698, "outcome": "passed"}, "call": {"duration": 0.000968457999988459, "outcome": "passed"}, "teardown": {"duration": 0.0001378330052830279, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_prepare_record_missing_unique_field", "lineno": 165, "outcome": "passed", "keywords": ["test_prepare_record_missing_unique_field", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000440875010099262, "outcome": "passed"}, "call": {"duration": 0.0002932920033344999, "outcome": "passed"}, "teardown": {"duration": 0.0001312910026172176, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_create", "lineno": 185, "outcome": "passed", "keywords": ["test_load_record_create", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004257500113453716, "outcome": "passed"}, "call": {"duration": 0.0020097499946132302, "outcome": "passed"}, "teardown": {"duration": 0.00015974999405443668, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_update", "lineno": 223, "outcome": "passed", "keywords": ["test_load_record_update", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004808329977095127, "outcome": "passed"}, "call": {"duration": 0.0015155000000959262, "outcome": "passed"}, "teardown": {"duration": 0.0001912500010803342, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_skip_existing", "lineno": 261, "outcome": "passed", "keywords": ["test_load_record_skip_existing", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005286250088829547, "outcome": "passed"}, "call": {"duration": 0.0010390420065959916, "outcome": "passed"}, "teardown": {"duration": 0.00014075000945013016, "outcome": "passed"}}, {"nodeid": "backend/sync/test_loaders.py::TestDjangoModelLoader::test_load_record_validation_error", "lineno": 292, "outcome": "passed", "keywords": ["test_load_record_validation_error", "__wrapped__", "patchings", "TestDjangoModelLoader", "test_loaders.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00044879099004901946, "outcome": "passed"}, "call": {"duration": 0.05196054199768696, "outcome": "passed"}, "teardown": {"duration": 0.00028454200946725905, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_source_str", "lineno": 10, "outcome": "passed", "keywords": ["test_sync_source_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.001779625003109686, "outcome": "passed"}, "call": {"duration": 0.00021399999968707561, "outcome": "passed"}, "teardown": {"duration": 0.00019895900913979858, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_target_str", "lineno": 15, "outcome": "passed", "keywords": ["test_sync_target_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0011439580121077597, "outcome": "passed"}, "call": {"duration": 0.0001981249952223152, "outcome": "passed"}, "teardown": {"duration": 0.00016270899504888803, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_mapping_str", "lineno": 20, "outcome": "passed", "keywords": ["test_sync_mapping_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.002154957997845486, "outcome": "passed"}, "call": {"duration": 0.00015208299737423658, "outcome": "passed"}, "teardown": {"duration": 0.0002009579911828041, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_started", "lineno": 26, "outcome": "passed", "keywords": ["test_sync_state_update_sync_started", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.002777417001198046, "outcome": "passed"}, "call": {"duration": 0.0004743330064229667, "outcome": "passed"}, "teardown": {"duration": 0.0002145830076187849, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_success", "lineno": 48, "outcome": "passed", "keywords": ["test_sync_state_update_sync_completed_success", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0028234170022187755, "outcome": "passed"}, "call": {"duration": 0.0003516669967211783, "outcome": "passed"}, "teardown": {"duration": 0.0002087500033667311, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_state_update_sync_completed_failure", "lineno": 74, "outcome": "passed", "keywords": ["test_sync_state_update_sync_completed_failure", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0025727920001372695, "outcome": "passed"}, "call": {"duration": 0.00029554200591519475, "outcome": "passed"}, "teardown": {"duration": 0.00045629100350197405, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed", "lineno": 100, "outcome": "passed", "keywords": ["test_sync_log_mark_completed", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0033530420041643083, "outcome": "passed"}, "call": {"duration": 0.0006277909997152165, "outcome": "passed"}, "teardown": {"duration": 0.00022591699962504208, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_completed_all_success", "lineno": 141, "outcome": "passed", "keywords": ["test_sync_log_mark_completed_all_success", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0028236250072950497, "outcome": "passed"}, "call": {"duration": 0.00047916600306052715, "outcome": "passed"}, "teardown": {"duration": 0.00021149999520275742, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_mark_failed", "lineno": 182, "outcome": "passed", "keywords": ["test_sync_log_mark_failed", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003026708000106737, "outcome": "passed"}, "call": {"duration": 0.0005276669980958104, "outcome": "passed"}, "teardown": {"duration": 0.0002207910001743585, "outcome": "passed"}}, {"nodeid": "backend/sync/test_models.py::test_sync_log_detail_str", "lineno": 218, "outcome": "passed", "keywords": ["test_sync_log_detail_str", "test_models.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003216084005543962, "outcome": "passed"}, "call": {"duration": 0.0001589579915162176, "outcome": "passed"}, "teardown": {"duration": 0.00021995799033902586, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_successful", "lineno": 85, "outcome": "passed", "keywords": ["test_run_successful", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003396375002921559, "outcome": "passed"}, "call": {"duration": 0.003826625004876405, "outcome": "passed", "stderr": "INFO 2025-03-18 16:03:40,310 pipeline 9671 8674591296 Processing batch 1 (2 records)\nINFO 2025-03-18 16:03:40,311 pipeline 9671 8674591296 Processing batch 2 (1 records)\n"}, "teardown": {"duration": 0.0001958330103661865, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_incremental_filter", "lineno": 116, "outcome": "passed", "keywords": ["test_run_with_incremental_filter", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00290958299592603, "outcome": "passed"}, "call": {"duration": 0.002320041006896645, "outcome": "passed", "stderr": "INFO 2025-03-18 16:03:40,317 pipeline 9671 8674591296 Processing batch 1 (3 records)\n"}, "teardown": {"duration": 0.00020725000649690628, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_run_with_extractor_error", "lineno": 142, "outcome": "passed", "keywords": ["test_run_with_extractor_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003062458010390401, "outcome": "passed"}, "call": {"duration": 0.004977167001925409, "outcome": "passed", "stderr": "ERROR 2025-03-18 16:03:40,323 pipeline 9671 8674591296 Error during sync pipeline execution\nTraceback (most recent call last):\n  File \"/Users/joan/VSProjects/pyERP/pyerp/sync/pipeline.py\", line 133, in run\n    source_data = self.extractor.extract(\n                  ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1139, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1143, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/miniconda3/lib/python3.12/unittest/mock.py\", line 1198, in _execute_mock_call\n    raise effect\nValueError: Extraction error\n"}, "teardown": {"duration": 0.00020199999562464654, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_success", "lineno": 173, "outcome": "passed", "keywords": ["test_process_batch_success", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.002966166997794062, "outcome": "passed"}, "call": {"duration": 0.0019455829897196963, "outcome": "passed"}, "teardown": {"duration": 0.00017754199507180601, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_transformation_error", "lineno": 210, "outcome": "passed", "keywords": ["test_process_batch_transformation_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00288716699287761, "outcome": "passed"}, "call": {"duration": 0.0015218329936033115, "outcome": "passed", "stderr": "WARNING 2025-03-18 16:03:40,337 pipeline 9671 8674591296 Transformer returned no data for batch\n"}, "teardown": {"duration": 0.00018645799718797207, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_process_batch_loader_error", "lineno": 245, "outcome": "passed", "keywords": ["test_process_batch_loader_error", "__wrapped__", "patchings", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0029097090009599924, "outcome": "passed"}, "call": {"duration": 0.0014708329981658608, "outcome": "passed"}, "teardown": {"duration": 0.0001837919990066439, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestSyncPipeline::test_clean_for_json", "lineno": 274, "outcome": "passed", "keywords": ["test_clean_for_json", "TestSyncPipeline", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.003231124996091239, "outcome": "passed"}, "call": {"duration": 0.000192749997950159, "outcome": "passed"}, "teardown": {"duration": 0.0002266249939566478, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_pipeline", "lineno": 317, "outcome": "passed", "keywords": ["test_create_pipeline", "__wrapped__", "patchings", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005337499896995723, "outcome": "passed"}, "call": {"duration": 0.0018546249921200797, "outcome": "passed", "stderr": "INFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Creating pipeline components...\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Source config: {'type': 'source_type'}\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Target config: {'type': 'target_type'}\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Mapping config: {'extractor': {'class': 'extractor_class'}, 'transformer': {'class': 'transformer_class'}, 'loader': {'class': 'loader_class'}}\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Created extractor: MagicMock\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Created transformer: MagicMock\nINFO 2025-03-18 16:03:40,350 pipeline 9671 8674591296 Created loader: MagicMock\n"}, "teardown": {"duration": 0.00015954200353007764, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_import_class", "lineno": 344, "outcome": "passed", "keywords": ["test_import_class", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005067500023869798, "outcome": "passed"}, "call": {"duration": 0.0005272080015856773, "outcome": "passed"}, "teardown": {"duration": 0.00014766700041946024, "outcome": "passed"}}, {"nodeid": "backend/sync/test_pipeline.py::TestPipelineFactory::test_create_component", "lineno": 354, "outcome": "passed", "keywords": ["test_create_component", "TestPipelineFactory", "test_pipeline.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00046541700430680066, "outcome": "passed"}, "call": {"duration": 0.00012579098984133452, "outcome": "passed"}, "teardown": {"duration": 0.00016912499268073589, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_success", "lineno": 94, "outcome": "passed", "keywords": ["test_load_sales_record_yaml_success", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005292089917929843, "outcome": "passed"}, "call": {"duration": 0.001385708004818298, "outcome": "passed"}, "teardown": {"duration": 0.00015941700257826596, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_load_sales_record_yaml_file_error", "lineno": 111, "outcome": "passed", "keywords": ["test_load_sales_record_yaml_file_error", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005419170047389343, "outcome": "passed"}, "call": {"duration": 0.0005966669996269047, "outcome": "passed"}, "teardown": {"duration": 0.00016283401055261493, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings", "lineno": 127, "outcome": "passed", "keywords": ["test_get_sales_record_mappings", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0006636250036535785, "outcome": "passed"}, "call": {"duration": 0.000270208009169437, "outcome": "passed"}, "teardown": {"duration": 0.00015020799764897674, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_get_sales_record_mappings_empty", "lineno": 143, "outcome": "passed", "keywords": ["test_get_sales_record_mappings_empty", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005335839960025623, "outcome": "passed"}, "call": {"duration": 0.00023829200654290617, "outcome": "passed"}, "teardown": {"duration": 0.0001483750093029812, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestTaskHelperFunctions::test_create_sales_record_mappings", "lineno": 155, "outcome": "passed", "keywords": ["test_create_sales_record_mappings", "__wrapped__", "patchings", "TestTaskHelperFunctions", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004550840094452724, "outcome": "passed"}, "call": {"duration": 0.00023670900554861873, "outcome": "passed"}, "teardown": {"duration": 0.0001764170010574162, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_success", "lineno": 176, "outcome": "passed", "keywords": ["test_run_entity_sync_success", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0028473749989643693, "outcome": "passed"}, "call": {"duration": 0.0005855830095242709, "outcome": "passed"}, "teardown": {"duration": 0.0001626250013941899, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_mapping_not_found", "lineno": 211, "outcome": "passed", "keywords": ["test_run_entity_sync_mapping_not_found", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00048733300354797393, "outcome": "passed"}, "call": {"duration": 0.0007038750045467168, "outcome": "passed"}, "teardown": {"duration": 0.00015366599836852401, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunEntitySync::test_run_entity_sync_pipeline_error", "lineno": 255, "outcome": "passed", "keywords": ["test_run_entity_sync_pipeline_error", "__wrapped__", "patchings", "TestRunEntitySync", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0016266669990727678, "outcome": "passed"}, "call": {"duration": 0.0008226659992942587, "outcome": "passed"}, "teardown": {"duration": 0.000185500000952743, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_success", "lineno": 307, "outcome": "passed", "keywords": ["test_run_all_mappings_success", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004870830016443506, "outcome": "passed"}, "call": {"duration": 0.002170084000681527, "outcome": "passed"}, "teardown": {"duration": 0.00014491600450128317, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_with_source_filter", "lineno": 365, "outcome": "passed", "keywords": ["test_run_all_mappings_with_source_filter", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005047089944127947, "outcome": "passed"}, "call": {"duration": 0.0008538749971194193, "outcome": "passed"}, "teardown": {"duration": 0.0001731249940348789, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestRunAllMappings::test_run_all_mappings_no_mappings", "lineno": 387, "outcome": "passed", "keywords": ["test_run_all_mappings_no_mappings", "__wrapped__", "patchings", "TestRunAllMappings", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004427499952726066, "outcome": "passed"}, "call": {"duration": 0.0005658340087393299, "outcome": "passed"}, "teardown": {"duration": 0.00017266700160689652, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_incremental_sync", "lineno": 416, "outcome": "passed", "keywords": ["test_run_incremental_sync", "__wrapped__", "patchings", "TestScheduledSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004951669980073348, "outcome": "passed"}, "call": {"duration": 0.0005742080102209002, "outcome": "passed"}, "teardown": {"duration": 0.00013645899889525026, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestScheduledSyncTasks::test_run_full_sync", "lineno": 430, "outcome": "passed", "keywords": ["test_run_full_sync", "__wrapped__", "patchings", "TestScheduledSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00045966698962729424, "outcome": "passed"}, "call": {"duration": 0.0005010409950045869, "outcome": "passed"}, "teardown": {"duration": 0.00016745799803175032, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_sales_record_sync_log_messages", "lineno": 448, "outcome": "passed", "keywords": ["test_run_sales_record_sync_log_messages", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005509579932549968, "outcome": "passed"}, "call": {"duration": 0.00164974998915568, "outcome": "passed"}, "teardown": {"duration": 0.00016112500452436507, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_incremental_sales_record_sync", "lineno": 486, "outcome": "passed", "keywords": ["test_run_incremental_sales_record_sync", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005162500019650906, "outcome": "passed"}, "call": {"duration": 0.0006718750082654878, "outcome": "passed", "stderr": "INFO 2025-03-18 16:03:40,388 tasks 9671 8674591296 Starting scheduled incremental sales record sync\n"}, "teardown": {"duration": 0.00015962500765454024, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestSalesRecordSyncTasks::test_run_full_sales_record_sync", "lineno": 513, "outcome": "passed", "keywords": ["test_run_full_sales_record_sync", "__wrapped__", "patchings", "TestSalesRecordSyncTasks", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000550541008124128, "outcome": "passed"}, "call": {"duration": 0.0006137909949757159, "outcome": "passed", "stderr": "INFO 2025-03-18 16:03:40,390 tasks 9671 8674591296 Starting scheduled full sales record sync\n"}, "teardown": {"duration": 0.00017587500042282045, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sync_periodic_task", "lineno": 544, "outcome": "passed", "keywords": ["test_incremental_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005248339875834063, "outcome": "passed"}, "call": {"duration": 0.00012925000919494778, "outcome": "passed"}, "teardown": {"duration": 0.00014045900024939328, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sync_periodic_task", "lineno": 555, "outcome": "passed", "keywords": ["test_full_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004434159927768633, "outcome": "passed"}, "call": {"duration": 0.00012304200208745897, "outcome": "passed"}, "teardown": {"duration": 0.00013291700452100486, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_incremental_sales_record_sync_periodic_task", "lineno": 566, "outcome": "passed", "keywords": ["test_incremental_sales_record_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004644169966923073, "outcome": "passed"}, "call": {"duration": 0.0001195419899886474, "outcome": "passed"}, "teardown": {"duration": 0.00013708299957215786, "outcome": "passed"}}, {"nodeid": "backend/sync/test_tasks.py::TestPeriodicTaskRegistration::test_full_sales_record_sync_periodic_task", "lineno": 578, "outcome": "passed", "keywords": ["test_full_sales_record_sync_periodic_task", "TestPeriodicTaskRegistration", "test_tasks.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004440829943632707, "outcome": "passed"}, "call": {"duration": 0.00012220899225212634, "outcome": "passed"}, "teardown": {"duration": 0.0001630000042496249, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_defaults", "lineno": 12, "outcome": "passed", "keywords": ["test_init_with_defaults", "TestValidationError", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004784579941770062, "outcome": "passed"}, "call": {"duration": 0.00012420800339896232, "outcome": "passed"}, "teardown": {"duration": 0.0001357080036541447, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestValidationError::test_init_with_custom_values", "lineno": 21, "outcome": "passed", "keywords": ["test_init_with_custom_values", "TestValidationError", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00045170800876803696, "outcome": "passed"}, "call": {"duration": 0.0001255000097444281, "outcome": "passed"}, "teardown": {"duration": 0.00014620801084674895, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_minimal_config", "lineno": 48, "outcome": "passed", "keywords": ["test_init_with_minimal_config", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000468166996142827, "outcome": "passed"}, "call": {"duration": 0.00012483300815802068, "outcome": "passed"}, "teardown": {"duration": 0.00019512500148266554, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_init_with_full_config", "lineno": 58, "outcome": "passed", "keywords": ["test_init_with_full_config", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004953340103384107, "outcome": "passed"}, "call": {"duration": 0.0001404999929945916, "outcome": "passed"}, "teardown": {"duration": 0.00020304200006648898, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_valid", "lineno": 83, "outcome": "passed", "keywords": ["test_validate_config_valid", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004504999960772693, "outcome": "passed"}, "call": {"duration": 0.00011262499901931733, "outcome": "passed"}, "teardown": {"duration": 0.0001345409982604906, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_mappings", "lineno": 94, "outcome": "failed", "keywords": ["test_validate_config_invalid_mappings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004840829933527857, "outcome": "passed"}, "call": {"duration": 0.00017041699902620167, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 59, "message": "pyerp.sync.exceptions.TransformError: field_mappings must be a dictionary"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 103, "message": "in test_validate_config_invalid_mappings"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 48, "message": "in __init__"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 59, "message": "in _validate_config"}], "longrepr": "tests/backend/sync/test_transformers.py:103: in test_validate_config_invalid_mappings\n    SimpleTransformer(config)\npyerp/sync/transformers/base.py:48: in __init__\n    self._validate_config()\npyerp/sync/transformers/base.py:59: in _validate_config\n    raise TransformError(\"field_mappings must be a dictionary\")\nE   pyerp.sync.exceptions.TransformError: field_mappings must be a dictionary"}, "teardown": {"duration": 0.000283792003756389, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_config_invalid_rules", "lineno": 106, "outcome": "failed", "keywords": ["test_validate_config_invalid_rules", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005301670025801286, "outcome": "passed"}, "call": {"duration": 0.00017091700283344835, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 62, "message": "pyerp.sync.exceptions.TransformError: validation_rules must be a list"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 115, "message": "in test_validate_config_invalid_rules"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 48, "message": "in __init__"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 62, "message": "in _validate_config"}], "longrepr": "tests/backend/sync/test_transformers.py:115: in test_validate_config_invalid_rules\n    SimpleTransformer(config)\npyerp/sync/transformers/base.py:48: in __init__\n    self._validate_config()\npyerp/sync/transformers/base.py:62: in _validate_config\n    raise TransformError(\"validation_rules must be a list\")\nE   pyerp.sync.exceptions.TransformError: validation_rules must be a list"}, "teardown": {"duration": 0.0002567080082371831, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_register_custom_transformer", "lineno": 118, "outcome": "passed", "keywords": ["test_register_custom_transformer", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.000529874989297241, "outcome": "passed"}, "call": {"duration": 0.00012945799971930683, "outcome": "passed"}, "teardown": {"duration": 0.00016591600433457643, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_field_mappings", "lineno": 131, "outcome": "failed", "keywords": ["test_apply_field_mappings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004681249993154779, "outcome": "passed"}, "call": {"duration": 0.14857070900325198, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 150, "message": "AssertionError: assert {'other_field': 'Other value', 'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'} == {'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'}\n  \n  Common items:\n  \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mtarget_code\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTP001\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_name\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTest Product\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_price\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[94m10.99\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\n  Left contains 1 more item:\n  \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mother_field\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mOther value\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\n  \n  Full diff:\n  \u001b[0m\u001b[90m \u001b[39;49;00m {\u001b[90m\u001b[39;49;00m\n  \u001b[92m+     'other_field': 'Other value',\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_code': 'TP001',\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_name': 'Test Product',\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m     'target_price': 10.99,\u001b[90m\u001b[39;49;00m\n  \u001b[90m \u001b[39;49;00m }\u001b[90m\u001b[39;49;00m"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 150, "message": "in test_apply_field_mappings"}], "longrepr": "tests/backend/sync/test_transformers.py:150: in test_apply_field_mappings\n    assert result == {\nE   AssertionError: assert {'other_field': 'Other value', 'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'} == {'target_name': 'Test Product', 'target_price': 10.99, 'target_code': 'TP001'}\nE     \nE     Common items:\nE     \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mtarget_code\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTP001\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_name\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mTest Product\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m, \u001b[33m'\u001b[39;49;00m\u001b[33mtarget_price\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[94m10.99\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\nE     Left contains 1 more item:\nE     \u001b[0m{\u001b[33m'\u001b[39;49;00m\u001b[33mother_field\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m: \u001b[33m'\u001b[39;49;00m\u001b[33mOther value\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m}\u001b[90m\u001b[39;49;00m\nE     \nE     Full diff:\nE     \u001b[0m\u001b[90m \u001b[39;49;00m {\u001b[90m\u001b[39;49;00m\nE     \u001b[92m+     'other_field': 'Other value',\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_code': 'TP001',\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_name': 'Test Product',\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m     'target_price': 10.99,\u001b[90m\u001b[39;49;00m\nE     \u001b[90m \u001b[39;49;00m }\u001b[90m\u001b[39;49;00m"}, "teardown": {"duration": 0.0002588749921415001, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers", "lineno": 167, "outcome": "failed", "keywords": ["test_apply_custom_transformers", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005834589974256232, "outcome": "passed"}, "call": {"duration": 0.00035016699985135347, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 189, "message": "in test_apply_custom_transformers"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "stderr": "Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'\n", "log": [{"name": "pyerp.sync.transformers.base", "msg": "Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "filename": "base.py", "module": "base", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 119, "funcName": "apply_custom_transformers", "created": 1742310220.6391292, "msecs": 639.0, "relativeCreated": 5961.259126663208, "thread": 8674591296, "threadName": "MainThread", "processName": "MainProcess", "process": 9671, "taskName": null}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:189: in test_apply_custom_transformers\n    result = transformer.apply_custom_transformers(record, source_record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "teardown": {"duration": 0.0002497500099707395, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_apply_custom_transformers_error", "lineno": 194, "outcome": "failed", "keywords": ["test_apply_custom_transformers_error", "__wrapped__", "patchings", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005486250011017546, "outcome": "passed"}, "call": {"duration": 0.00047700000868644565, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 210, "message": "in test_apply_custom_transformers_error"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:210: in test_apply_custom_transformers_error\n    result = transformer.apply_custom_transformers(record, source_record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'name': TestBaseTransformer.test_apply_custom_transformers_error.<locals>.failing_transformer() missing 1 required positional argument: '_'"}, "teardown": {"duration": 0.0001962910027941689, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate_record", "lineno": 218, "outcome": "failed", "keywords": ["test_validate_record", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004894580051768571, "outcome": "passed"}, "call": {"duration": 0.0002807499986374751, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 244, "message": "assert 0 == 1\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 244, "message": "in test_validate_record"}], "longrepr": "tests/backend/sync/test_transformers.py:244: in test_validate_record\n    assert len(name_errors) == 1\nE   assert 0 == 1\nE    +  where 0 = len([])"}, "teardown": {"duration": 0.00021425000159069896, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records", "lineno": 259, "outcome": "failed", "keywords": ["test_prefilter_records", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00047941700904630125, "outcome": "passed"}, "call": {"duration": 0.00021337499492801726, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 279, "message": "assert 0 == 3\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 279, "message": "in test_prefilter_records"}], "longrepr": "tests/backend/sync/test_transformers.py:279: in test_prefilter_records\n    assert len(new_records) == 3\nE   assert 0 == 3\nE    +  where 0 = len([])"}, "teardown": {"duration": 0.00017462500545661896, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_normalization", "lineno": 289, "outcome": "failed", "keywords": ["test_prefilter_records_normalization", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004982919926987961, "outcome": "passed"}, "call": {"duration": 0.00020049999875482172, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 308, "message": "assert 0 == 1\n +  where 0 = len([])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 308, "message": "in test_prefilter_records_normalization"}], "longrepr": "tests/backend/sync/test_transformers.py:308: in test_prefilter_records_normalization\n    assert len(new_records) == 1\nE   assert 0 == 1\nE    +  where 0 = len([])"}, "teardown": {"duration": 0.00017708299856167287, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_prefilter_records_missing_key_field", "lineno": 317, "outcome": "passed", "keywords": ["test_prefilter_records_missing_key_field", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.00045633398985955864, "outcome": "passed"}, "call": {"duration": 0.00011774999438785017, "outcome": "passed"}, "teardown": {"duration": 0.0001304159959545359, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_transform", "lineno": 337, "outcome": "failed", "keywords": ["test_transform", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0004281250003259629, "outcome": "passed"}, "call": {"duration": 0.0002668750094017014, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "lineno": 120, "message": "pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 358, "message": "in test_transform"}, {"path": "tests/backend/sync/test_transformers.py", "lineno": 43, "message": "in transform"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 231, "message": "in transform"}, {"path": "pyerp/sync/transformers/base.py", "lineno": 120, "message": "in apply_custom_transformers"}], "stderr": "Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'\n", "log": [{"name": "pyerp.sync.transformers.base", "msg": "Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/joan/VSProjects/pyERP/pyerp/sync/transformers/base.py", "filename": "base.py", "module": "base", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 119, "funcName": "apply_custom_transformers", "created": 1742310220.684782, "msecs": 684.0, "relativeCreated": 6006.911993026733, "thread": 8674591296, "threadName": "MainThread", "processName": "MainProcess", "process": 9671, "taskName": null}], "longrepr": "pyerp/sync/transformers/base.py:115: in apply_custom_transformers\n    record[field] = transformer(record[field])\nE   TypeError: TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'\n\nDuring handling of the above exception, another exception occurred:\ntests/backend/sync/test_transformers.py:358: in test_transform\n    result = transformer.transform(source_data)\ntests/backend/sync/test_transformers.py:43: in transform\n    return super().transform(source_data)\npyerp/sync/transformers/base.py:231: in transform\n    transformed = self.apply_custom_transformers(transformed, record)\npyerp/sync/transformers/base.py:120: in apply_custom_transformers\n    raise TransformError(error_msg)\nE   pyerp.sync.exceptions.TransformError: Error applying custom transformer for field 'product_name': TestBaseTransformer.test_transform.<locals>.uppercase_name() missing 1 required positional argument: '_'"}, "teardown": {"duration": 0.0002272080018883571, "outcome": "passed"}}, {"nodeid": "backend/sync/test_transformers.py::TestBaseTransformer::test_validate", "lineno": 373, "outcome": "failed", "keywords": ["test_validate", "TestBaseTransformer", "test_transformers.py", "sync", "backend", "tests", ""], "setup": {"duration": 0.0005003749975003302, "outcome": "passed"}, "call": {"duration": 0.0002400840021437034, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/tests/backend/sync/test_transformers.py", "lineno": 399, "message": "AssertionError: assert 3 == 2\n +  where 3 = len([{'name': 'Valid', 'price': 10.99}, {'name': 'Too Long Name for Validation', 'price': 20.99}, {'name': 'Valid', 'price': -5}])"}, "traceback": [{"path": "tests/backend/sync/test_transformers.py", "lineno": 399, "message": "in test_validate"}], "longrepr": "tests/backend/sync/test_transformers.py:399: in test_validate\n    assert len(validation_results) == 2  # 2 records with errors\nE   AssertionError: assert 3 == 2\nE    +  where 3 = len([{'name': 'Valid', 'price': 10.99}, {'name': 'Too Long Name for Validation', 'price': 20.99}, {'name': 'Valid', 'price': -5}])"}, "teardown": {"duration": 0.00025004199414979666, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_create_product_validator", "lineno": 93, "outcome": "passed", "keywords": ["test_create_product_validator", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.0007798340084264055, "outcome": "passed"}, "call": {"duration": 0.00027800000680144876, "outcome": "passed"}, "teardown": {"duration": 0.00017883301188703626, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_validate_products", "lineno": 98, "outcome": "passed", "keywords": ["test_validate_products", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.0005164580070413649, "outcome": "passed"}, "call": {"duration": 0.00042262500210199505, "outcome": "passed"}, "teardown": {"duration": 0.00018537500000093132, "outcome": "passed"}}, {"nodeid": "backend/test_commands.py::TestProductImportCommand::test_handle_product_validation", "lineno": 118, "outcome": "passed", "keywords": ["test_handle_product_validation", "TestProductImportCommand", "test_commands.py", "backend", "tests", ""], "setup": {"duration": 0.0006148749962449074, "outcome": "passed"}, "call": {"duration": 0.00044337500003166497, "outcome": "passed"}, "teardown": {"duration": 0.00018408401228953153, "outcome": "passed"}}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_product_validation", "lineno": 31, "outcome": "passed", "keywords": ["test_handle_product_validation", "TestProductImportCommand", "test_import_service.py", "backend", "tests", ""], "setup": {"duration": 0.00048520800191909075, "outcome": "passed"}, "call": {"duration": 0.00041112500184681267, "outcome": "passed"}, "teardown": {"duration": 0.00015541700122412294, "outcome": "passed"}}, {"nodeid": "backend/test_import_service.py::TestProductImportCommand::test_handle_with_validation_errors", "lineno": 46, "outcome": "passed", "keywords": ["test_handle_with_validation_errors", "TestProductImportCommand", "test_import_service.py", "backend", "tests", ""], "setup": {"duration": 0.00048408399743493646, "outcome": "passed"}, "call": {"duration": 0.00036470899067353457, "outcome": "passed"}, "teardown": {"duration": 0.004676957993069664, "outcome": "passed"}}], "warnings": [{"message": "pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pkg_resources/__init__.py", "lineno": 3147}, {"message": "'cgi' is deprecated and slated for removal in Python 3.13", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "pythonjsonlogger.jsonlogger has been moved to pythonjsonlogger.json", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pythonjsonlogger/jsonlogger.py", "lineno": 11}, {"message": "Unknown config option: env\n", "category": "PytestConfigWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/_pytest/config/__init__.py", "lineno": 1396}, {"message": "cannot collect test class 'TestValidator' because it has a __init__ constructor (from: backend/test_import_service.py)", "category": "PytestCollectionWarning", "when": "collect", "filename": "/Users/joan/VSProjects/pyERP/tests/backend/test_import_service.py", "lineno": 15}]}