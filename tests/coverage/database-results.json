{"created": 1742502802.3864079, "duration": 1.7289819717407227, "exitcode": 1, "root": "/Users/joan/VSProjects/pyERP/tests", "environment": {}, "summary": {"passed": 6, "error": 2, "total": 8, "collected": 8}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "database", "type": "Package"}]}, {"nodeid": "database/test_migrations.py", "outcome": "passed", "result": [{"nodeid": "database/test_migrations.py::test_migrations_are_in_sync", "type": "Function", "lineno": 12}, {"nodeid": "database/test_migrations.py::test_migrations_can_be_applied", "type": "Function", "lineno": 20}]}, {"nodeid": "database/test_models.py::TestImageSyncLog", "outcome": "passed", "result": [{"nodeid": "database/test_models.py::TestImageSyncLog::test_create_log", "type": "Function", "lineno": 26}]}, {"nodeid": "database/test_models.py::TestProductModels", "outcome": "passed", "result": [{"nodeid": "database/test_models.py::TestProductModels::test_parent_product_creation", "type": "Function", "lineno": 44}, {"nodeid": "database/test_models.py::TestProductModels::test_variant_product_creation", "type": "Function", "lineno": 59}, {"nodeid": "database/test_models.py::TestProductModels::test_variant_requires_parent", "type": "Function", "lineno": 75}]}, {"nodeid": "database/test_models.py", "outcome": "passed", "result": [{"nodeid": "database/test_models.py::TestImageSyncLog", "type": "Class"}, {"nodeid": "database/test_models.py::TestProductModels", "type": "Class"}]}, {"nodeid": "database/test_queries.py::TestProductQueries", "outcome": "passed", "result": [{"nodeid": "database/test_queries.py::TestProductQueries::test_parent_with_variants_count", "type": "Function", "lineno": 40}, {"nodeid": "database/test_queries.py::TestProductQueries::test_complex_product_query", "type": "Function", "lineno": 55}]}, {"nodeid": "database/test_queries.py", "outcome": "passed", "result": [{"nodeid": "database/test_queries.py::TestProductQueries", "type": "Class"}]}, {"nodeid": "database", "outcome": "passed", "result": [{"nodeid": "database/test_migrations.py", "type": "Module"}, {"nodeid": "database/test_models.py", "type": "Module"}, {"nodeid": "database/test_queries.py", "type": "Module"}]}], "tests": [{"nodeid": "database/test_migrations.py::test_migrations_are_in_sync", "lineno": 12, "outcome": "passed", "keywords": ["test_migrations_are_in_sync", "django_db", "pytestmark", "test_migrations.py", "database", "tests", ""], "setup": {"duration": 1.5744725000113249, "outcome": "passed", "stdout": "Operations to perform:\n  Synchronize unmigrated apps: corsheaders, django_filters, drf_yasg, external_api, messages, rest_framework, staticfiles\n  Apply all migrations: admin, auth, contenttypes, core, django_celery_beat, django_celery_results, email_system, inventory, monitoring, production, products, sales, sessions, sync, users\nSynchronizing apps without migrations:\n  Creating tables...\n    Running deferred SQL...\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying admin.0003_logentry_add_action_flag_choices... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying auth.0009_alter_user_last_name_max_length... OK\n  Applying auth.0010_alter_group_name_max_length... OK\n  Applying auth.0011_update_proxy_permissions... OK\n  Applying auth.0012_alter_user_first_name_max_length... OK\n  Applying core.0001_initial... OK\n  Applying django_celery_beat.0001_initial... OK\n  Applying django_celery_results.0001_initial... OK\n  Applying email_system.0001_initial... OK\n  Applying products.0001_initial... OK\n  Applying inventory.0001_initial... OK\n  Applying inventory.0002_initial... OK\n  Applying monitoring.0001_initial... OK\n  Applying production.0001_initial... OK\n  Applying production.0002_initial... OK\n  Applying products.0002_remove_dimensions_field... OK\n  Applying sales.0001_initial... OK\n  Applying sessions.0001_initial... OK\n  Applying sync.0001_initial... OK\n  Applying users.0001_initial... OK\n", "stderr": "Creating test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...\n"}, "call": {"duration": 0.00342625001212582, "outcome": "passed"}, "teardown": {"duration": 0.00027662498177960515, "outcome": "passed"}}, {"nodeid": "database/test_migrations.py::test_migrations_can_be_applied", "lineno": 20, "outcome": "passed", "keywords": ["test_migrations_can_be_applied", "django_db", "pytestmark", "test_migrations.py", "database", "tests", ""], "setup": {"duration": 0.00045016699004918337, "outcome": "passed"}, "call": {"duration": 0.003112124977633357, "outcome": "passed"}, "teardown": {"duration": 0.00021208298858255148, "outcome": "passed"}}, {"nodeid": "database/test_models.py::TestImageSyncLog::test_create_log", "lineno": 26, "outcome": "passed", "keywords": ["test_create_log", "TestImageSyncLog", "django_db", "test_models.py", "database", "tests", ""], "setup": {"duration": 0.0004218750400468707, "outcome": "passed"}, "call": {"duration": 0.00033850001636892557, "outcome": "passed"}, "teardown": {"duration": 0.0002031669719144702, "outcome": "passed"}}, {"nodeid": "database/test_models.py::TestProductModels::test_parent_product_creation", "lineno": 44, "outcome": "passed", "keywords": ["test_parent_product_creation", "TestProductModels", "django_db", "test_models.py", "database", "tests", ""], "setup": {"duration": 0.0004633750068023801, "outcome": "passed"}, "call": {"duration": 0.00028849998489022255, "outcome": "passed"}, "teardown": {"duration": 0.00033966603223234415, "outcome": "passed"}}, {"nodeid": "database/test_models.py::TestProductModels::test_variant_product_creation", "lineno": 59, "outcome": "passed", "keywords": ["test_variant_product_creation", "TestProductModels", "django_db", "test_models.py", "database", "tests", ""], "setup": {"duration": 0.0005245410138741136, "outcome": "passed"}, "call": {"duration": 0.0009638330084271729, "outcome": "passed"}, "teardown": {"duration": 0.00022366602206602693, "outcome": "passed"}}, {"nodeid": "database/test_models.py::TestProductModels::test_variant_requires_parent", "lineno": 75, "outcome": "passed", "keywords": ["test_variant_requires_parent", "TestProductModels", "django_db", "test_models.py", "database", "tests", ""], "setup": {"duration": 0.0004603340057656169, "outcome": "passed"}, "call": {"duration": 0.00040504196658730507, "outcome": "passed"}, "teardown": {"duration": 0.00020350003615021706, "outcome": "passed"}}, {"nodeid": "database/test_queries.py::TestProductQueries::test_parent_with_variants_count", "lineno": 40, "outcome": "error", "keywords": ["test_parent_with_variants_count", "TestProductQueries", "django_db", "test_queries.py", "database", "tests", ""], "setup": {"duration": 0.0004918750491924584, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/django/db/models/base.py", "lineno": 567, "message": "TypeError: ParentProduct() got unexpected keyword arguments: 'base_sku'"}, "traceback": [{"path": "tests/database/test_queries.py", "lineno": 20, "message": "in sample_products"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/query.py", "lineno": 677, "message": "in create"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/base.py", "lineno": 567, "message": "in __init__"}], "longrepr": "tests/database/test_queries.py:20: in sample_products\n    parent1 = ParentProduct.objects.create(\nvenv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\nvenv/lib/python3.12/site-packages/django/db/models/query.py:677: in create\n    obj = self.model(**kwargs)\nvenv/lib/python3.12/site-packages/django/db/models/base.py:567: in __init__\n    raise TypeError(\nE   TypeError: ParentProduct() got unexpected keyword arguments: 'base_sku'"}, "teardown": {"duration": 0.00039974995888769627, "outcome": "passed"}}, {"nodeid": "database/test_queries.py::TestProductQueries::test_complex_product_query", "lineno": 55, "outcome": "error", "keywords": ["test_complex_product_query", "TestProductQueries", "django_db", "test_queries.py", "database", "tests", ""], "setup": {"duration": 0.0005958750261925161, "outcome": "failed", "crash": {"path": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/django/db/models/base.py", "lineno": 567, "message": "TypeError: ParentProduct() got unexpected keyword arguments: 'base_sku'"}, "traceback": [{"path": "tests/database/test_queries.py", "lineno": 20, "message": "in sample_products"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/query.py", "lineno": 677, "message": "in create"}, {"path": "venv/lib/python3.12/site-packages/django/db/models/base.py", "lineno": 567, "message": "in __init__"}], "longrepr": "tests/database/test_queries.py:20: in sample_products\n    parent1 = ParentProduct.objects.create(\nvenv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\nvenv/lib/python3.12/site-packages/django/db/models/query.py:677: in create\n    obj = self.model(**kwargs)\nvenv/lib/python3.12/site-packages/django/db/models/base.py:567: in __init__\n    raise TypeError(\nE   TypeError: ParentProduct() got unexpected keyword arguments: 'base_sku'"}, "teardown": {"duration": 0.0012142499908804893, "outcome": "passed", "stderr": "Destroying test database for alias 'default' ('file:memorydb_default?mode=memory&cache=shared')...\n"}}], "warnings": [{"message": "pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pkg_resources/__init__.py", "lineno": 3147}, {"message": "'cgi' is deprecated and slated for removal in Python 3.13", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/ddtrace/internal/module.py", "lineno": 297}, {"message": "pythonjsonlogger.jsonlogger has been moved to pythonjsonlogger.json", "category": "DeprecationWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/pythonjsonlogger/jsonlogger.py", "lineno": 11}, {"message": "Unknown config option: env\n", "category": "PytestConfigWarning", "when": "config", "filename": "/Users/joan/VSProjects/pyERP/venv/lib/python3.12/site-packages/_pytest/config/__init__.py", "lineno": 1396}]}